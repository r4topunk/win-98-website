/* Prevent text selection during drag operations */
.dragging {
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
}

/* Prevent text selection on desktop background */
.desktop-background {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

/* Prevent text selection on window title bars */
.title-bar {
  user-select: none !important;
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
}

@media (min-width: 1024px) {
  body {
    zoom: 1.25;
  }
}

/* Fix for dragging in Firefox which doesn't support zoom */
@supports (-moz-appearance: none) {
  @media (min-width: 1024px) {
    body {
      zoom: 1;
      transform: scale(1.25);
      transform-origin: top left;
      width: 80%;
      height: 80%;
    }
  }
}

/* Performance optimizations for CRT effects */
.crt-scanline {
  contain: layout style paint;
  backface-visibility: hidden;
  perspective: 1000px;
}

.crt-scanline.paused {
  animation-play-state: paused;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .animate-scan,
  .animate-fade {
    animation: none;
  }
}

/* Disable mobile gestures that interfere with window interactions */
html, body {
  /* Disable pull-to-refresh */
  overscroll-behavior: none;
  
  /* Disable pinch-to-zoom */
  touch-action: manipulation;
  
  /* Disable double-tap zoom */
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

/* Specifically disable gestures on desktop background and windows */
.desktop-background,
.window {
  /* Prevent pull-to-refresh and bounce scrolling */
  overscroll-behavior: none;
  
  /* Allow only pan gestures, disable pinch zoom */
  touch-action: pan-x pan-y;
}

/* For window title bars, completely disable touch actions except for dragging */
.title-bar {
  /* Only allow panning for dragging, no zoom or other gestures */
  touch-action: none;
}

/* Re-enable scrolling inside window content areas */
.window .h-full.overflow-auto {
  touch-action: auto;
}

/* Disable iOS Safari bounce effect */
@supports (-webkit-touch-callout: none) {
  html, body {
    -webkit-overflow-scrolling: touch;
    height: 100%;
    overflow: hidden;
  }
  
  /* Allow scrolling only on specific scrollable containers */
  .overflow-auto {
    -webkit-overflow-scrolling: touch;
  }
}
